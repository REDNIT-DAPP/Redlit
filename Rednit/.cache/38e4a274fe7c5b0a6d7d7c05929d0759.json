{"id":"1ayW","dependencies":[{"name":"/home/fran/code/status/Rednit/Rednit/package.json","includedInParent":true,"mtime":1540643843915},{"name":"/home/fran/code/status/Rednit/Rednit/.babelrc","includedInParent":true,"mtime":1540593075646},{"name":"babel-runtime/helpers/classCallCheck","parent":"/home/fran/code/status/Rednit/Rednit/src/components/RequestsBadge.js","resolved":"/home/fran/code/status/Rednit/node_modules/babel-runtime/helpers/classCallCheck.js"},{"name":"babel-runtime/helpers/createClass","parent":"/home/fran/code/status/Rednit/Rednit/src/components/RequestsBadge.js","resolved":"/home/fran/code/status/Rednit/node_modules/babel-runtime/helpers/createClass.js"},{"name":"babel-runtime/helpers/possibleConstructorReturn","parent":"/home/fran/code/status/Rednit/Rednit/src/components/RequestsBadge.js","resolved":"/home/fran/code/status/Rednit/node_modules/babel-runtime/helpers/possibleConstructorReturn.js"},{"name":"babel-runtime/helpers/inherits","parent":"/home/fran/code/status/Rednit/Rednit/src/components/RequestsBadge.js","resolved":"/home/fran/code/status/Rednit/node_modules/babel-runtime/helpers/inherits.js"},{"name":"react","loc":{"line":1,"column":31},"parent":"/home/fran/code/status/Rednit/Rednit/src/components/RequestsBadge.js","resolved":"/home/fran/code/status/Rednit/node_modules/react/index.js"},{"name":"prop-types","loc":{"line":2,"column":22},"parent":"/home/fran/code/status/Rednit/Rednit/src/components/RequestsBadge.js","resolved":"/home/fran/code/status/Rednit/node_modules/prop-types/index.js"},{"name":"../services/NativeNotificationService","loc":{"line":3,"column":38},"parent":"/home/fran/code/status/Rednit/Rednit/src/components/RequestsBadge.js","resolved":"/home/fran/code/status/Rednit/Rednit/src/services/NativeNotificationService.js"}],"generated":{"js":"\"use strict\";Object.defineProperty(exports,\"__esModule\",{value:!0});var e=require(\"babel-runtime/helpers/classCallCheck\"),t=d(e),i=require(\"babel-runtime/helpers/createClass\"),r=d(i),s=require(\"babel-runtime/helpers/possibleConstructorReturn\"),n=d(s),o=require(\"babel-runtime/helpers/inherits\"),u=d(o),a=require(\"react\"),c=d(a),l=require(\"prop-types\"),h=d(l),p=require(\"../services/NativeNotificationService\"),v=d(p);function d(e){return e&&e.__esModule?e:{default:e}}var f=function(e){function i(e){(0,t.default)(this,i);var r=(0,n.default)(this,(i.__proto__||Object.getPrototypeOf(i)).call(this,e));return r.identityService=r.props.services.identityService,r.authorisationService=r.props.services.authorisationService,r.state={requests:r.authorisationService.pendingAuthorisations.length},r.nativeNotificationService=new v.default,r}return(0,u.default)(i,e),(0,r.default)(i,[{key:\"componentDidMount\",value:function(){var e=this.identityService.identity.address;this.subscription=this.authorisationService.subscribe(e,this.onAuthorisationChanged.bind(this))}},{key:\"componentWillUnmount\",value:function(){this.subscription.remove()}},{key:\"onAuthorisationChanged\",value:function(e){this.setState({requests:e.length}),e.length>0&&this.nativeNotificationService.notifyLoginRequest(e[0].label)}},{key:\"render\",value:function(){var e=this;return this.state.requests>0?c.default.createElement(\"button\",{onClick:function(){return e.props.setView(\"PendingAuthorizations\")},className:\"request-notification\"},this.state.requests):\"\"}}]),i}(a.Component);f.propTypes={setView:h.default.func,services:h.default.object},exports.default=f;","map":{"mappings":[{"source":"components/RequestsBadge.js","name":"RequestsBadge","original":{"line":54,"column":15},"generated":{"line":1,"column":0}},{"source":"components/RequestsBadge.js","name":"RequestsBadge","original":{"line":54,"column":15},"generated":{"line":1,"column":13}},{"source":"components/RequestsBadge.js","name":"RequestsBadge","original":{"line":54,"column":15},"generated":{"line":1,"column":20}},{"source":"components/RequestsBadge.js","name":"RequestsBadge","original":{"line":54,"column":15},"generated":{"line":1,"column":35}},{"source":"components/RequestsBadge.js","name":"RequestsBadge","original":{"line":54,"column":15},"generated":{"line":1,"column":43}},{"source":"components/RequestsBadge.js","name":"RequestsBadge","original":{"line":54,"column":15},"generated":{"line":1,"column":56}},{"source":"components/RequestsBadge.js","name":"RequestsBadge","original":{"line":54,"column":15},"generated":{"line":1,"column":57}},{"source":"components/RequestsBadge.js","name":"RequestsBadge","original":{"line":54,"column":15},"generated":{"line":1,"column":64}},{"source":"components/RequestsBadge.js","name":"RequestsBadge","original":{"line":54,"column":15},"generated":{"line":1,"column":68}},{"source":"components/RequestsBadge.js","name":"RequestsBadge","original":{"line":54,"column":15},"generated":{"line":1,"column":72}},{"source":"components/RequestsBadge.js","name":"RequestsBadge","original":{"line":54,"column":15},"generated":{"line":1,"column":74}},{"source":"components/RequestsBadge.js","name":"RequestsBadge","original":{"line":54,"column":15},"generated":{"line":1,"column":82}},{"source":"components/RequestsBadge.js","name":"RequestsBadge","original":{"line":54,"column":15},"generated":{"line":1,"column":122}},{"source":"components/RequestsBadge.js","name":"RequestsBadge","original":{"line":54,"column":15},"generated":{"line":1,"column":124}},{"source":"components/RequestsBadge.js","name":"RequestsBadge","original":{"line":54,"column":15},"generated":{"line":1,"column":126}},{"source":"components/RequestsBadge.js","name":"RequestsBadge","original":{"line":54,"column":15},"generated":{"line":1,"column":129}},{"source":"components/RequestsBadge.js","name":"RequestsBadge","original":{"line":54,"column":15},"generated":{"line":1,"column":131}},{"source":"components/RequestsBadge.js","name":"RequestsBadge","original":{"line":54,"column":15},"generated":{"line":1,"column":139}},{"source":"components/RequestsBadge.js","name":"RequestsBadge","original":{"line":54,"column":15},"generated":{"line":1,"column":176}},{"source":"components/RequestsBadge.js","name":"RequestsBadge","original":{"line":54,"column":15},"generated":{"line":1,"column":178}},{"source":"components/RequestsBadge.js","name":"RequestsBadge","original":{"line":54,"column":15},"generated":{"line":1,"column":180}},{"source":"components/RequestsBadge.js","name":"RequestsBadge","original":{"line":54,"column":15},"generated":{"line":1,"column":183}},{"source":"components/RequestsBadge.js","name":"RequestsBadge","original":{"line":54,"column":15},"generated":{"line":1,"column":185}},{"source":"components/RequestsBadge.js","name":"RequestsBadge","original":{"line":54,"column":15},"generated":{"line":1,"column":193}},{"source":"components/RequestsBadge.js","name":"RequestsBadge","original":{"line":54,"column":15},"generated":{"line":1,"column":244}},{"source":"components/RequestsBadge.js","name":"RequestsBadge","original":{"line":54,"column":15},"generated":{"line":1,"column":246}},{"source":"components/RequestsBadge.js","name":"RequestsBadge","original":{"line":54,"column":15},"generated":{"line":1,"column":248}},{"source":"components/RequestsBadge.js","name":"RequestsBadge","original":{"line":54,"column":15},"generated":{"line":1,"column":251}},{"source":"components/RequestsBadge.js","name":"RequestsBadge","original":{"line":54,"column":15},"generated":{"line":1,"column":253}},{"source":"components/RequestsBadge.js","name":"RequestsBadge","original":{"line":54,"column":15},"generated":{"line":1,"column":261}},{"source":"components/RequestsBadge.js","name":"RequestsBadge","original":{"line":54,"column":15},"generated":{"line":1,"column":295}},{"source":"components/RequestsBadge.js","name":"RequestsBadge","original":{"line":54,"column":15},"generated":{"line":1,"column":297}},{"source":"components/RequestsBadge.js","name":"RequestsBadge","original":{"line":54,"column":15},"generated":{"line":1,"column":299}},{"source":"components/RequestsBadge.js","original":{"line":1,"column":0},"generated":{"line":1,"column":302}},{"source":"components/RequestsBadge.js","original":{"line":1,"column":0},"generated":{"line":1,"column":304}},{"source":"components/RequestsBadge.js","original":{"line":1,"column":0},"generated":{"line":1,"column":312}},{"source":"components/RequestsBadge.js","name":"RequestsBadge","original":{"line":54,"column":15},"generated":{"line":1,"column":321}},{"source":"components/RequestsBadge.js","name":"RequestsBadge","original":{"line":54,"column":15},"generated":{"line":1,"column":323}},{"source":"components/RequestsBadge.js","name":"RequestsBadge","original":{"line":54,"column":15},"generated":{"line":1,"column":325}},{"source":"components/RequestsBadge.js","original":{"line":2,"column":0},"generated":{"line":1,"column":328}},{"source":"components/RequestsBadge.js","original":{"line":2,"column":0},"generated":{"line":1,"column":330}},{"source":"components/RequestsBadge.js","original":{"line":2,"column":0},"generated":{"line":1,"column":338}},{"source":"components/RequestsBadge.js","name":"RequestsBadge","original":{"line":54,"column":15},"generated":{"line":1,"column":352}},{"source":"components/RequestsBadge.js","name":"RequestsBadge","original":{"line":54,"column":15},"generated":{"line":1,"column":354}},{"source":"components/RequestsBadge.js","name":"RequestsBadge","original":{"line":54,"column":15},"generated":{"line":1,"column":356}},{"source":"components/RequestsBadge.js","original":{"line":3,"column":0},"generated":{"line":1,"column":359}},{"source":"components/RequestsBadge.js","original":{"line":3,"column":0},"generated":{"line":1,"column":361}},{"source":"components/RequestsBadge.js","original":{"line":3,"column":0},"generated":{"line":1,"column":369}},{"source":"components/RequestsBadge.js","name":"RequestsBadge","original":{"line":54,"column":15},"generated":{"line":1,"column":410}},{"source":"components/RequestsBadge.js","name":"RequestsBadge","original":{"line":54,"column":15},"generated":{"line":1,"column":412}},{"source":"components/RequestsBadge.js","name":"RequestsBadge","original":{"line":54,"column":15},"generated":{"line":1,"column":414}},{"source":"components/RequestsBadge.js","name":"RequestsBadge","original":{"line":54,"column":15},"generated":{"line":1,"column":417}},{"source":"components/RequestsBadge.js","name":"RequestsBadge","original":{"line":54,"column":15},"generated":{"line":1,"column":426}},{"source":"components/RequestsBadge.js","name":"RequestsBadge","original":{"line":54,"column":15},"generated":{"line":1,"column":428}},{"source":"components/RequestsBadge.js","name":"RequestsBadge","original":{"line":54,"column":15},"generated":{"line":1,"column":431}},{"source":"components/RequestsBadge.js","name":"RequestsBadge","original":{"line":54,"column":15},"generated":{"line":1,"column":438}},{"source":"components/RequestsBadge.js","name":"RequestsBadge","original":{"line":54,"column":15},"generated":{"line":1,"column":441}},{"source":"components/RequestsBadge.js","name":"RequestsBadge","original":{"line":54,"column":15},"generated":{"line":1,"column":443}},{"source":"components/RequestsBadge.js","name":"RequestsBadge","original":{"line":54,"column":15},"generated":{"line":1,"column":454}},{"source":"components/RequestsBadge.js","name":"RequestsBadge","original":{"line":54,"column":15},"generated":{"line":1,"column":456}},{"source":"components/RequestsBadge.js","name":"RequestsBadge","original":{"line":54,"column":15},"generated":{"line":1,"column":457}},{"source":"components/RequestsBadge.js","name":"RequestsBadge","original":{"line":54,"column":15},"generated":{"line":1,"column":465}},{"source":"components/RequestsBadge.js","name":"RequestsBadge","original":{"line":5,"column":6},"generated":{"line":1,"column":468}},{"source":"components/RequestsBadge.js","name":"RequestsBadge","original":{"line":5,"column":6},"generated":{"line":1,"column":472}},{"source":"components/RequestsBadge.js","name":"RequestsBadge","original":{"line":5,"column":6},"generated":{"line":1,"column":474}},{"source":"components/RequestsBadge.js","name":"RequestsBadge","original":{"line":5,"column":6},"generated":{"line":1,"column":483}},{"source":"components/RequestsBadge.js","name":"props","original":{"line":6,"column":14},"generated":{"line":1,"column":486}},{"source":"components/RequestsBadge.js","name":"props","original":{"line":6,"column":14},"generated":{"line":1,"column":495}},{"source":"components/RequestsBadge.js","name":"props","original":{"line":6,"column":14},"generated":{"line":1,"column":497}},{"source":"components/RequestsBadge.js","original":{"line":6,"column":21},"generated":{"line":1,"column":501}},{"source":"components/RequestsBadge.js","original":{"line":6,"column":21},"generated":{"line":1,"column":503}},{"source":"components/RequestsBadge.js","original":{"line":6,"column":21},"generated":{"line":1,"column":505}},{"source":"components/RequestsBadge.js","original":{"line":6,"column":21},"generated":{"line":1,"column":514}},{"source":"components/RequestsBadge.js","original":{"line":6,"column":21},"generated":{"line":1,"column":519}},{"source":"components/RequestsBadge.js","name":"props","original":{"line":7,"column":10},"generated":{"line":1,"column":522}},{"source":"components/RequestsBadge.js","name":"props","original":{"line":7,"column":10},"generated":{"line":1,"column":526}},{"source":"components/RequestsBadge.js","name":"props","original":{"line":7,"column":10},"generated":{"line":1,"column":529}},{"source":"components/RequestsBadge.js","name":"props","original":{"line":7,"column":10},"generated":{"line":1,"column":531}},{"source":"components/RequestsBadge.js","name":"props","original":{"line":7,"column":10},"generated":{"line":1,"column":533}},{"source":"components/RequestsBadge.js","name":"props","original":{"line":7,"column":10},"generated":{"line":1,"column":542}},{"source":"components/RequestsBadge.js","name":"props","original":{"line":7,"column":10},"generated":{"line":1,"column":548}},{"source":"components/RequestsBadge.js","name":"props","original":{"line":7,"column":10},"generated":{"line":1,"column":550}},{"source":"components/RequestsBadge.js","name":"props","original":{"line":7,"column":10},"generated":{"line":1,"column":561}},{"source":"components/RequestsBadge.js","name":"props","original":{"line":7,"column":10},"generated":{"line":1,"column":568}},{"source":"components/RequestsBadge.js","name":"props","original":{"line":7,"column":10},"generated":{"line":1,"column":583}},{"source":"components/RequestsBadge.js","name":"props","original":{"line":7,"column":10},"generated":{"line":1,"column":587}},{"source":"components/RequestsBadge.js","name":"props","original":{"line":7,"column":10},"generated":{"line":1,"column":592}},{"source":"components/RequestsBadge.js","name":"props","original":{"line":7,"column":10},"generated":{"line":1,"column":597}},{"source":"components/RequestsBadge.js","original":{"line":6,"column":21},"generated":{"line":1,"column":601}},{"source":"components/RequestsBadge.js","name":"identityService","original":{"line":8,"column":9},"generated":{"line":1,"column":608}},{"source":"components/RequestsBadge.js","name":"identityService","original":{"line":8,"column":9},"generated":{"line":1,"column":610}},{"source":"components/RequestsBadge.js","original":{"line":8,"column":27},"generated":{"line":1,"column":626}},{"source":"components/RequestsBadge.js","name":"props","original":{"line":8,"column":32},"generated":{"line":1,"column":628}},{"source":"components/RequestsBadge.js","name":"services","original":{"line":8,"column":38},"generated":{"line":1,"column":634}},{"source":"components/RequestsBadge.js","name":"identityService","original":{"line":8,"column":47},"generated":{"line":1,"column":643}},{"source":"components/RequestsBadge.js","name":"authorisationService","original":{"line":9,"column":9},"generated":{"line":1,"column":659}},{"source":"components/RequestsBadge.js","name":"authorisationService","original":{"line":9,"column":9},"generated":{"line":1,"column":661}},{"source":"components/RequestsBadge.js","original":{"line":9,"column":32},"generated":{"line":1,"column":682}},{"source":"components/RequestsBadge.js","name":"props","original":{"line":9,"column":37},"generated":{"line":1,"column":684}},{"source":"components/RequestsBadge.js","name":"services","original":{"line":9,"column":43},"generated":{"line":1,"column":690}},{"source":"components/RequestsBadge.js","name":"authorisationService","original":{"line":9,"column":52},"generated":{"line":1,"column":699}},{"source":"components/RequestsBadge.js","name":"state","original":{"line":10,"column":9},"generated":{"line":1,"column":720}},{"source":"components/RequestsBadge.js","name":"state","original":{"line":10,"column":9},"generated":{"line":1,"column":722}},{"source":"components/RequestsBadge.js","original":{"line":10,"column":17},"generated":{"line":1,"column":728}},{"source":"components/RequestsBadge.js","original":{"line":11,"column":16},"generated":{"line":1,"column":729}},{"source":"components/RequestsBadge.js","original":{"line":11,"column":16},"generated":{"line":1,"column":738}},{"source":"components/RequestsBadge.js","name":"authorisationService","original":{"line":11,"column":21},"generated":{"line":1,"column":740}},{"source":"components/RequestsBadge.js","name":"pendingAuthorisations","original":{"line":11,"column":42},"generated":{"line":1,"column":761}},{"source":"components/RequestsBadge.js","name":"length","original":{"line":11,"column":64},"generated":{"line":1,"column":783}},{"source":"components/RequestsBadge.js","name":"nativeNotificationService","original":{"line":13,"column":9},"generated":{"line":1,"column":791}},{"source":"components/RequestsBadge.js","name":"nativeNotificationService","original":{"line":13,"column":9},"generated":{"line":1,"column":793}},{"source":"components/RequestsBadge.js","original":{"line":13,"column":37},"generated":{"line":1,"column":819}},{"source":"components/RequestsBadge.js","name":"NativeNotificationService","original":{"line":13,"column":41},"generated":{"line":1,"column":823}},{"source":"components/RequestsBadge.js","original":{"line":13,"column":37},"generated":{"line":1,"column":825}},{"source":"components/RequestsBadge.js","original":{"line":6,"column":21},"generated":{"line":1,"column":833}},{"source":"components/RequestsBadge.js","name":"RequestsBadge","original":{"line":54,"column":15},"generated":{"line":1,"column":835}},{"source":"components/RequestsBadge.js","name":"RequestsBadge","original":{"line":54,"column":15},"generated":{"line":1,"column":842}},{"source":"components/RequestsBadge.js","name":"RequestsBadge","original":{"line":54,"column":15},"generated":{"line":1,"column":844}},{"source":"components/RequestsBadge.js","name":"RequestsBadge","original":{"line":54,"column":15},"generated":{"line":1,"column":846}},{"source":"components/RequestsBadge.js","name":"RequestsBadge","original":{"line":54,"column":15},"generated":{"line":1,"column":855}},{"source":"components/RequestsBadge.js","name":"RequestsBadge","original":{"line":54,"column":15},"generated":{"line":1,"column":857}},{"source":"components/RequestsBadge.js","name":"RequestsBadge","original":{"line":54,"column":15},"generated":{"line":1,"column":861}},{"source":"components/RequestsBadge.js","name":"RequestsBadge","original":{"line":54,"column":15},"generated":{"line":1,"column":863}},{"source":"components/RequestsBadge.js","name":"RequestsBadge","original":{"line":54,"column":15},"generated":{"line":1,"column":865}},{"source":"components/RequestsBadge.js","name":"RequestsBadge","original":{"line":54,"column":15},"generated":{"line":1,"column":874}},{"source":"components/RequestsBadge.js","name":"RequestsBadge","original":{"line":54,"column":15},"generated":{"line":1,"column":876}},{"source":"components/RequestsBadge.js","name":"RequestsBadge","original":{"line":54,"column":15},"generated":{"line":1,"column":877}},{"source":"components/RequestsBadge.js","name":"RequestsBadge","original":{"line":54,"column":15},"generated":{"line":1,"column":878}},{"source":"components/RequestsBadge.js","name":"RequestsBadge","original":{"line":54,"column":15},"generated":{"line":1,"column":882}},{"source":"components/RequestsBadge.js","original":{"line":16,"column":22},"generated":{"line":1,"column":902}},{"source":"components/RequestsBadge.js","original":{"line":16,"column":22},"generated":{"line":1,"column":908}},{"source":"components/RequestsBadge.js","name":"address","original":{"line":17,"column":11},"generated":{"line":1,"column":919}},{"source":"components/RequestsBadge.js","name":"address","original":{"line":17,"column":11},"generated":{"line":1,"column":923}},{"source":"components/RequestsBadge.js","original":{"line":17,"column":22},"generated":{"line":1,"column":925}},{"source":"components/RequestsBadge.js","name":"identityService","original":{"line":17,"column":27},"generated":{"line":1,"column":930}},{"source":"components/RequestsBadge.js","name":"identity","original":{"line":17,"column":43},"generated":{"line":1,"column":946}},{"source":"components/RequestsBadge.js","name":"address","original":{"line":17,"column":11},"generated":{"line":1,"column":955}},{"source":"components/RequestsBadge.js","name":"subscription","original":{"line":18,"column":9},"generated":{"line":1,"column":963}},{"source":"components/RequestsBadge.js","name":"subscription","original":{"line":18,"column":9},"generated":{"line":1,"column":968}},{"source":"components/RequestsBadge.js","original":{"line":18,"column":24},"generated":{"line":1,"column":981}},{"source":"components/RequestsBadge.js","name":"authorisationService","original":{"line":18,"column":29},"generated":{"line":1,"column":986}},{"source":"components/RequestsBadge.js","name":"subscribe","original":{"line":18,"column":50},"generated":{"line":1,"column":1007}},{"source":"components/RequestsBadge.js","name":"address","original":{"line":19,"column":6},"generated":{"line":1,"column":1017}},{"source":"components/RequestsBadge.js","original":{"line":20,"column":6},"generated":{"line":1,"column":1019}},{"source":"components/RequestsBadge.js","name":"onAuthorisationChanged","original":{"line":20,"column":11},"generated":{"line":1,"column":1024}},{"source":"components/RequestsBadge.js","name":"bind","original":{"line":20,"column":34},"generated":{"line":1,"column":1047}},{"source":"components/RequestsBadge.js","original":{"line":20,"column":39},"generated":{"line":1,"column":1052}},{"source":"components/RequestsBadge.js","name":"RequestsBadge","original":{"line":54,"column":15},"generated":{"line":1,"column":1061}},{"source":"components/RequestsBadge.js","name":"RequestsBadge","original":{"line":54,"column":15},"generated":{"line":1,"column":1062}},{"source":"components/RequestsBadge.js","name":"RequestsBadge","original":{"line":54,"column":15},"generated":{"line":1,"column":1066}},{"source":"components/RequestsBadge.js","original":{"line":24,"column":25},"generated":{"line":1,"column":1089}},{"source":"components/RequestsBadge.js","original":{"line":24,"column":25},"generated":{"line":1,"column":1095}},{"source":"components/RequestsBadge.js","name":"subscription","original":{"line":25,"column":9},"generated":{"line":1,"column":1106}},{"source":"components/RequestsBadge.js","name":"subscription","original":{"line":25,"column":9},"generated":{"line":1,"column":1111}},{"source":"components/RequestsBadge.js","name":"remove","original":{"line":25,"column":22},"generated":{"line":1,"column":1124}},{"source":"components/RequestsBadge.js","name":"RequestsBadge","original":{"line":54,"column":15},"generated":{"line":1,"column":1135}},{"source":"components/RequestsBadge.js","name":"RequestsBadge","original":{"line":54,"column":15},"generated":{"line":1,"column":1136}},{"source":"components/RequestsBadge.js","name":"RequestsBadge","original":{"line":54,"column":15},"generated":{"line":1,"column":1140}},{"source":"components/RequestsBadge.js","name":"authorisations","original":{"line":28,"column":25},"generated":{"line":1,"column":1165}},{"source":"components/RequestsBadge.js","name":"authorisations","original":{"line":28,"column":25},"generated":{"line":1,"column":1171}},{"source":"components/RequestsBadge.js","name":"authorisations","original":{"line":28,"column":25},"generated":{"line":1,"column":1180}},{"source":"components/RequestsBadge.js","name":"setState","original":{"line":29,"column":9},"generated":{"line":1,"column":1183}},{"source":"components/RequestsBadge.js","name":"setState","original":{"line":29,"column":9},"generated":{"line":1,"column":1188}},{"source":"components/RequestsBadge.js","original":{"line":29,"column":18},"generated":{"line":1,"column":1197}},{"source":"components/RequestsBadge.js","name":"requests","original":{"line":29,"column":19},"generated":{"line":1,"column":1198}},{"source":"components/RequestsBadge.js","name":"authorisations","original":{"line":29,"column":29},"generated":{"line":1,"column":1207}},{"source":"components/RequestsBadge.js","name":"length","original":{"line":29,"column":44},"generated":{"line":1,"column":1209}},{"source":"components/RequestsBadge.js","name":"authorisations","original":{"line":30,"column":8},"generated":{"line":1,"column":1218}},{"source":"components/RequestsBadge.js","name":"length","original":{"line":30,"column":23},"generated":{"line":1,"column":1220}},{"source":"components/RequestsBadge.js","original":{"line":30,"column":32},"generated":{"line":1,"column":1227}},{"source":"components/RequestsBadge.js","name":"nativeNotificationService","original":{"line":31,"column":11},"generated":{"line":1,"column":1230}},{"source":"components/RequestsBadge.js","name":"nativeNotificationService","original":{"line":31,"column":11},"generated":{"line":1,"column":1235}},{"source":"components/RequestsBadge.js","name":"notifyLoginRequest","original":{"line":31,"column":37},"generated":{"line":1,"column":1261}},{"source":"components/RequestsBadge.js","name":"authorisations","original":{"line":31,"column":56},"generated":{"line":1,"column":1280}},{"source":"components/RequestsBadge.js","original":{"line":31,"column":71},"generated":{"line":1,"column":1282}},{"source":"components/RequestsBadge.js","name":"label","original":{"line":31,"column":74},"generated":{"line":1,"column":1285}},{"source":"components/RequestsBadge.js","name":"RequestsBadge","original":{"line":54,"column":15},"generated":{"line":1,"column":1294}},{"source":"components/RequestsBadge.js","name":"RequestsBadge","original":{"line":54,"column":15},"generated":{"line":1,"column":1295}},{"source":"components/RequestsBadge.js","name":"RequestsBadge","original":{"line":54,"column":15},"generated":{"line":1,"column":1299}},{"source":"components/RequestsBadge.js","original":{"line":35,"column":11},"generated":{"line":1,"column":1308}},{"source":"components/RequestsBadge.js","original":{"line":35,"column":11},"generated":{"line":1,"column":1314}},{"source":"components/RequestsBadge.js","original":{"line":35,"column":11},"generated":{"line":1,"column":1325}},{"source":"components/RequestsBadge.js","original":{"line":35,"column":11},"generated":{"line":1,"column":1329}},{"source":"components/RequestsBadge.js","original":{"line":35,"column":11},"generated":{"line":1,"column":1331}},{"source":"components/RequestsBadge.js","original":{"line":36,"column":11},"generated":{"line":1,"column":1336}},{"source":"components/RequestsBadge.js","original":{"line":36,"column":11},"generated":{"line":1,"column":1343}},{"source":"components/RequestsBadge.js","name":"state","original":{"line":36,"column":16},"generated":{"line":1,"column":1348}},{"source":"components/RequestsBadge.js","name":"requests","original":{"line":36,"column":22},"generated":{"line":1,"column":1354}},{"source":"components/RequestsBadge.js","original":{"line":36,"column":33},"generated":{"line":1,"column":1363}},{"source":"components/RequestsBadge.js","original":{"line":37,"column":6},"generated":{"line":1,"column":1365}},{"source":"components/RequestsBadge.js","original":{"line":37,"column":6},"generated":{"line":1,"column":1367}},{"source":"components/RequestsBadge.js","original":{"line":37,"column":6},"generated":{"line":1,"column":1375}},{"source":"components/RequestsBadge.js","original":{"line":37,"column":6},"generated":{"line":1,"column":1389}},{"source":"components/RequestsBadge.js","original":{"line":37,"column":6},"generated":{"line":1,"column":1398}},{"source":"components/RequestsBadge.js","original":{"line":38,"column":17},"generated":{"line":1,"column":1399}},{"source":"components/RequestsBadge.js","original":{"line":38,"column":17},"generated":{"line":1,"column":1407}},{"source":"components/RequestsBadge.js","original":{"line":38,"column":23},"generated":{"line":1,"column":1418}},{"source":"components/RequestsBadge.js","original":{"line":38,"column":23},"generated":{"line":1,"column":1425}},{"source":"components/RequestsBadge.js","name":"props","original":{"line":38,"column":28},"generated":{"line":1,"column":1427}},{"source":"components/RequestsBadge.js","name":"setView","original":{"line":38,"column":34},"generated":{"line":1,"column":1433}},{"source":"components/RequestsBadge.js","original":{"line":38,"column":42},"generated":{"line":1,"column":1441}},{"source":"components/RequestsBadge.js","original":{"line":39,"column":18},"generated":{"line":1,"column":1467}},{"source":"components/RequestsBadge.js","original":{"line":39,"column":18},"generated":{"line":1,"column":1477}},{"source":"components/RequestsBadge.js","name":"state","original":{"line":41,"column":14},"generated":{"line":1,"column":1501}},{"source":"components/RequestsBadge.js","name":"state","original":{"line":41,"column":14},"generated":{"line":1,"column":1506}},{"source":"components/RequestsBadge.js","name":"requests","original":{"line":41,"column":20},"generated":{"line":1,"column":1512}},{"source":"components/RequestsBadge.js","original":{"line":44,"column":6},"generated":{"line":1,"column":1522}},{"source":"components/RequestsBadge.js","name":"RequestsBadge","original":{"line":54,"column":15},"generated":{"line":1,"column":1529}},{"source":"components/RequestsBadge.js","name":"RequestsBadge","original":{"line":5,"column":6},"generated":{"line":1,"column":1531}},{"source":"components/RequestsBadge.js","name":"Component","original":{"line":5,"column":28},"generated":{"line":1,"column":1532}},{"source":"components/RequestsBadge.js","name":"Component","original":{"line":5,"column":28},"generated":{"line":1,"column":1534}},{"source":"components/RequestsBadge.js","name":"RequestsBadge","original":{"line":49,"column":0},"generated":{"line":1,"column":1545}},{"source":"components/RequestsBadge.js","name":"propTypes","original":{"line":49,"column":14},"generated":{"line":1,"column":1547}},{"source":"components/RequestsBadge.js","original":{"line":49,"column":26},"generated":{"line":1,"column":1557}},{"source":"components/RequestsBadge.js","name":"PropTypes","original":{"line":50,"column":11},"generated":{"line":1,"column":1558}},{"source":"components/RequestsBadge.js","name":"PropTypes","original":{"line":50,"column":11},"generated":{"line":1,"column":1566}},{"source":"components/RequestsBadge.js","name":"func","original":{"line":50,"column":21},"generated":{"line":1,"column":1568}},{"source":"components/RequestsBadge.js","name":"func","original":{"line":50,"column":21},"generated":{"line":1,"column":1576}},{"source":"components/RequestsBadge.js","name":"PropTypes","original":{"line":51,"column":12},"generated":{"line":1,"column":1581}},{"source":"components/RequestsBadge.js","name":"PropTypes","original":{"line":51,"column":12},"generated":{"line":1,"column":1590}},{"source":"components/RequestsBadge.js","name":"object","original":{"line":51,"column":22},"generated":{"line":1,"column":1592}},{"source":"components/RequestsBadge.js","name":"object","original":{"line":51,"column":22},"generated":{"line":1,"column":1600}},{"source":"components/RequestsBadge.js","name":"RequestsBadge","original":{"line":54,"column":15},"generated":{"line":1,"column":1608}},{"source":"components/RequestsBadge.js","name":"RequestsBadge","original":{"line":54,"column":15},"generated":{"line":1,"column":1616}},{"source":"components/RequestsBadge.js","name":"RequestsBadge","original":{"line":54,"column":15},"generated":{"line":1,"column":1624}}],"sources":{"components/RequestsBadge.js":"import React, {Component} from 'react';\nimport PropTypes from 'prop-types';\nimport NativeNotificationService from '../services/NativeNotificationService';\n\nclass RequestsBadge extends Component {\n  constructor(props) {\n    super(props);\n    this.identityService = this.props.services.identityService;\n    this.authorisationService = this.props.services.authorisationService;\n    this.state = {\n      requests: this.authorisationService.pendingAuthorisations.length\n    };\n    this.nativeNotificationService = new NativeNotificationService();\n  }\n\n  componentDidMount() {\n    const {address} = this.identityService.identity;\n    this.subscription = this.authorisationService.subscribe(\n      address,\n      this.onAuthorisationChanged.bind(this)\n    );\n  }\n\n  componentWillUnmount() {\n    this.subscription.remove();\n  }\n\n  onAuthorisationChanged(authorisations) {\n    this.setState({requests: authorisations.length});\n    if (authorisations.length > 0) {\n      this.nativeNotificationService.notifyLoginRequest(authorisations[0].label);\n    }\n  }\n\n  render() {\n    return this.state.requests > 0 ? (\n      <button\n        onClick={() => this.props.setView('PendingAuthorizations')}\n        className=\"request-notification\"\n      >\n        {this.state.requests}\n      </button>\n    ) : (\n      ''\n    );\n  }\n}\n\nRequestsBadge.propTypes = {\n  setView: PropTypes.func,\n  services: PropTypes.object\n};\n\nexport default RequestsBadge;\n"},"lineCount":null}},"hash":"b1d286dc667762cbcdeb8b9f99fee107","cacheData":{"env":{}}}